(function(i,t){typeof exports=="object"&&typeof module<"u"?module.exports=t():typeof define=="function"&&define.amd?define(t):(i=typeof globalThis<"u"?globalThis:i||self,i.tziijs=t())})(this,function(){"use strict";var I=Object.defineProperty;var $=i=>{throw TypeError(i)};var q=(i,t,o)=>t in i?I(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o;var c=(i,t,o)=>q(i,typeof t!="symbol"?t+"":t,o),b=(i,t,o)=>t.has(i)||$("Cannot "+o);var x=(i,t,o)=>(b(i,t,"read from private field"),o?o.call(i):t.get(i)),g=(i,t,o)=>t.has(i)?$("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,o),j=(i,t,o,h)=>(b(i,t,"write to private field"),h?h.call(i,o):t.set(i,o),o),p=(i,t,o)=>(b(i,t,"access private method"),o);var f,d,W,w,u,P,v;const i={1:["eem","i"],2:["axik","aaj","ixik","iij"],3:["ooj","an"],4:["b'a'xik","b'a'xiik","b'a'"],5:["areem","ari"],6:["irsaxik","irsaaj"]},t=["nin","nat","noq","nix","nee","xin","xat","xoq","xix","xee","xkin","xkat","xti","xkoq","xkix","xkee","n","x"],o={thirdSingularFuture:"xti",future:"xk",present:"n",past:"x"},h={"first person singular":"in","second person singular":"at","first person plural":"oq","second person plural":"ix","third person plural":"ee","third person singular":""};class y{constructor(e){g(this,d);c(this,"original","");g(this,f,"");c(this,"root","");c(this,"ending","");c(this,"class",0);c(this,"tense","");c(this,"person","");this.original=e,j(this,f,e.toLowerCase()),this.class=p(this,d,W).call(this,e);const{tense:s,person:n}=p(this,d,w).call(this);this.tense=s,this.person=n}}f=new WeakMap,d=new WeakSet,W=function(){let e=x(this,f),s=0;e.endsWith("na")&&(this.tense="future",e=e.slice(0,-2).trim());for(let n of Object.keys(i)){let r=i[n];for(let l of r)if(e.endsWith(l)){s=Number(n),this.ending=l,j(this,f,e.slice(0,-l.length));break}}return s},w=function(){let e="";for(let r of t)if(x(this,f).startsWith(r)){e=x(this,f).slice(0,r.length),this.root=x(this,f).slice(r.length);break}if(!e){if(this.root=x(this,f),this.class===3){const r=this.root.split(""),l=["a","e","i","o","u"];for(let a=r.length-1;a>=0;a--){const k=r[a];if(l.includes(k)&&this.root[a-1]===k){this.root=this.root.slice(0,a)+this.root.slice(a+1);break}}}return{tense:"infinitive",person:""}}let s="",n="";for(let r of Object.keys(o))if(e.startsWith(o[r])){if(r==="thirdSingularFuture")return{tense:"future",person:"third person singular"};{s=r;let l=e.slice(o[r].length);n=Object.keys(h).find(a=>h[a]===l);break}}return{tense:s,person:n}};class m{constructor(e){g(this,u);this.verb=e}conjugateAll(e="list"){const s=e==="list"?[]:{};for(let n of["past","present","future"]){e==="object"&&(s[n]={});for(let r of["first person","second person","third person"]){e==="object"&&(s[n][r]={});for(let l of["singular","plural"])e==="list"?s.push({title:`${r} ${l} ${n}`,word:this.conjugateWord(n,r,l)}):e==="object"&&(s[n][r][l]=this.conjugateWord(n,r,l))}}return e==="list"?s.push({title:"infinitive",word:this.conjugateWord("infinitive")}):s.infinitive=this.conjugateWord("infinitive"),s}conjugateWord(e,s,n){return e==="infinitive"?`${this.verb.root}${p(this,u,v).call(this,e)}`:`${p(this,u,P).call(this,e,s,n)}${this.verb.root}${p(this,u,v).call(this)}`}isPrefixValid(e){return!!t.includes(e)}}return u=new WeakSet,P=function(e,s,n){let r="";if(r+=o[e],r+=h[`${s} ${n}`],e==="future"&&s==="third person"&&n==="singular"&&(r="xti"),!this.isPrefixValid(r))throw new Error(`Invalid prefix: ${r}`);return r},v=function(e){let s="";if([1,3,5,6].includes(this.verb.class)){const n=e==="infinitive"?0:1;s+=i[this.verb.class][n]}else if(this.verb.class===2){if(["axik","aaj"].includes(this.verb.ending)){const n=e==="infinitive"?0:1;s+=i[this.verb.class][n]}else if(["ixik","iij"].includes(this.verb.ending)){const n=e==="infinitive"?2:3;s+=i[this.verb.class][n]}}else if(this.verb.class===4){const n=e==="infinitive"?0:2;s+=i[this.verb.class][n]}return e==="future"&&(s+=" na"),s},{Verb:y,Conjugator:m}});
